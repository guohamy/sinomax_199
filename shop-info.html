<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta content="yes" name="apple-mobile-web-app-capable">
    <meta content="yes" name="apple-touch-fullscreen">
    <meta content="telephone=no,email=no" name="format-detection">
    <meta name="viewport" content="initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no">
    <script type="text/javascript">
        (function (doc, win) {
            var docEl = doc.documentElement;
            var resizeEvt = 'orientationchange' in window ? 'orientationchange' : 'resize';
            var recalc = function () {
                var clientWidth = docEl.clientWidth;
                if (!clientWidth) return;
                if (clientWidth <= 750) {
                    docEl.style.fontSize = (clientWidth / 750 * 100).toFixed(1) + 'px';
                }else{
                    docEl.style.fontSize = '100px';
                }
            };
            recalc();
            if (!doc.addEventListener) return;
            win.addEventListener(resizeEvt, recalc, false);
        })(document, window);
    </script>
    <title>商品详细信息</title>
    <link rel="stylesheet" href="css/index.css">
</head>
<body>
<div class="main-content">
    <div class="nav-bar__block">
        <div class="nav-bar bottom-line">
            <div class="nav-bar__left">
                <span class="nav-bar__back-button nav-bar__arrow"></span>
            </div>
            <div class="nav-bar__title">商品详情</div>
            <div class="nav-bar__right">
                <a class="nav-bar__text icon-arrow__share">分享</a>
            </div>
        </div>
    </div>

    <!--头图 购物车为空时 shop-cart 添加class empty-->
    <div class="shop-image">
        <img src="./images/shop.jpg" alt="">
        <a href="" class="shop-cart"><b>12</b></a>
    </div>

    <!--商品信息-->
    <div class="shop-about">

        <div class="welfare-dialog" data-js="box-welfare">
            <img src="./images/fuli-gold.png" class="welfare-gold" alt="">
            <img src="./images/fuli-text.png" class="welfare-text" alt="">
        </div>

        <h2 class="shop-about__title">水晶蝴蝶结羊毛夹克</h2>
        <p class="shop-about__price">¥1,680</p>
        <ul class="shop-about__tags top-line">
            <li class="shop-about__tag">包邮</li>
            <li class="shop-about__tag">七天无理由退款</li>
            <li class="shop-about__tag">正品保障</li>
            <li class="shop-about__tag">香港直邮</li>
        </ul>
        <div class="shop-about__cell shop-about__cell--coupon top-line icon-arrow__right">
            <div class="shop-about__cell-left">优惠</div>
            <div class="shop-about__cell-right" data-js="c">购买立即减88.8元</div>
            <!--<div class="shop-about__cell-right"><span class="shop-about__coupon-des">购买立即减88.8元</span></div>-->
        </div>
        <div class="shop-about__cell shop-about__cell--selected top-line icon-arrow__right">
            <div class="shop-about__cell-left">已选</div>
            <div class="shop-about__cell-right" data-js="button--cart"><span class="shop-about__selected">HC8260_C1</span></div>
        </div>
        <div class="shop-about__cell shop-about__cell--selected top-line">
            <div class="shop-about__cell-left">快递方式</div>
            <div class="shop-about__cell-right icon-arrow__right">
                <div class="shop-about__checkbox">
                    <span>自提</span>
                    <span data-state="selected">快递</span>
                </div>
            </div>
        </div>
        <div class="shop-about__cell shop-about__cell--address top-line icon-arrow__right">
            <div class="shop-about__cell-left">提货地址</div>
            <div class="shop-about__cell-right" data-js="a"><p class="address__msg icon-arrow__pos">广州市天河区林和西路3-15号耀中广场B座4209-4210室</p></div>
        </div>
    </div>

    <!--商品图片信息-->
    <div class="shop-picture">
        <div class="shop-picture__title">商品详情</div>
        <div class="shop-picture__box">
            <img class="lazy-load" src="images/default.png" data-original="images/img.png" alt="">
        </div>
        <div class="shop-picture__box">
            <img class="lazy-load" src="images/default.png" data-original="images/img.png" alt="">
        </div>
        <div class="shop-picture__box">
            <img class="lazy-load" src="images/default.png" data-original="images/img.png" alt="">
        </div>
    </div>

    <!--购买模块-->
    <div class="footer-nav__fixed-bar">
        <div class="footer-nav__block top-line">
            <div class="shop-info__block">
                <button class="button button--cart" data-js="button--cart">加入购物车</button>
                <button class="button button--buy">立即购买</button>
                <!--<button class="button button--unBuy">库存不足</button>-->
            </div>
        </div>
    </div>


</div>

<!--弹窗-->
<div class="popup-page-wrap">
    <div class="popup-mask" data-show="false"></div>
    <!--优惠券窗口-->
    <div data-js="coupon-win" class="popup-page popup-page--bottom" data-show="false">
        <div class="popup-content">
            <div class="win-mod">
                <div class="win-mod__head">
                    <h4 class="win-mod__title">优惠</h4>
                    <a class="win-mod__close-btn" data-js="win-mod__close-btn"></a>
                </div>
                <div class="win-mod__body">
                    <!--代金券-->
                    <div class="coupon-cell">
                        <img class="coupon__logo" src="images/shop-logo.png" alt="">
                        <p class="coupon__des">HAChill（哈超）旗下所有商品购买立减100</p>
                        <p class="coupon__times">有效期至 2017-12-8</p>
                        <span class="coupon__state-button">马上使用</span>
                    </div>
                    <!--满减券-->
                    <div class="coupon-cell">
                        <img class="coupon__logo" src="images/shop-logo.png" alt="">
                        <p class="coupon__des">HAChill（哈超）旗下所有商品购买立减100</p>
                        <p class="coupon__times">有效期至 2017-12-8</p>
                        <span class="coupon__state-button" data-state="overdue">已过期</span>
                    </div>
                    <!--打骨折券-->
                    <div class="coupon-cell">
                        <img class="coupon__logo" src="images/shop-logo.png" alt="">
                        <p class="coupon__des">HAChill（哈超）旗下所有商品</p>
                        <p class="coupon__times">有效期至 2017-12-8</p>
                        <span class="coupon__state-button" data-state="used">已使用</span>
                    </div>
                </div>
                <div class="win-mod__footer">

                </div>
            </div>
        </div>
    </div>
    <!--收货地址窗口-->
    <div data-js="address-win" class="popup-page popup-page--bottom" data-show="false">
        <div class="popup-content">
            <div class="win-mod win-mod--address">
                <div class="win-mod__head">
                    <h4 class="win-mod__title">收货地址</h4>
                    <a class="win-mod__close-btn" data-js="win-mod__close-btn"></a>
                </div>
                <!-- 地址栏为空时 win-mod__body 添加class win-mode__body-empty -->
                <div class="win-mod__body">
                    <div class="address-cell" data-state="selected">
                        <p class="address__msg" data-state="selected">广州市天河区林和西路3-15号耀中广场B座4209-4210室</p>
                        <div class="address__row">
                            <span class="address__user-name">Lillian</span>
                            <em class="address__user-mobile">136*****415</em>
                        </div>
                        <a class="address__remove"></a>
                    </div>
                    <div class="address-cell">
                        <p class="address__msg">佛山市南海区南海狮山松岗商业大道39号(金怡假日酒店旁)</p>
                        <div class="address__row">
                            <span class="address__user-name">Lillian</span>
                            <em class="address__user-mobile">136*****415</em>
                        </div>
                        <a class="address__remove"></a>
                    </div>
                    <div class="address-cell">
                        <p class="address__msg">北京市西城区前门粮食店街17号</p>
                        <div class="address__row">
                            <span class="address__user-name">Lillian</span>
                            <em class="address__user-mobile">136*****415</em>
                        </div>
                        <a class="address__remove"></a>
                    </div>
                    <div class="address-cell">
                        <p class="address__msg">上海市长宁区延安西路1882号</p>
                        <div class="address__row">
                            <span class="address__user-name">Lillian</span>
                            <em class="address__user-mobile">136*****415</em>
                        </div>
                        <a class="address__remove"></a>
                    </div>
                </div>
                <div class="win-mod__footer">
                    <a class="address__add-button">新增收货地址</a>
                </div>
            </div>
        </div>
    </div>
    <!--商品属性窗口-->
    <div data-js="product-win" class="popup-page popup-page--bottom" data-show="false">
        <div class="popup-content">
            <div class="product-win">
                <a class="product-win__close" data-js="win-mod__close-btn"></a>
                <div class="product-win__body">
                    <div class="product-attr">
                        <div class="product-attr__head">
                            <div class="product-attr__img"><img src="images/shop-logo.png" alt=""></div>
                            <h3 class="product-attr__title">¥1,680</h3>
                        </div>
                        <div class="product-attr__body">
                            <div class="product-cell">
                                <h3 class="product-cell__title">颜色</h3>
                                <div class="tags-box">
                                    <span class="tags cur">黑镜片金边框</span>
                                    <span class="tags">红镜片金边框</span>
                                    <span class="tags">蓝镜片金边框</span>
                                    <span class="tags">凹凸曼镜片屌丝边框</span>
                                </div>
                            </div>
                            <div class="product-cell product-cell--stepper">
                                <h3 class="product-cell__title">数量</h3>
                                <div class="button-stepper">
                                    <button class="button-stepper__minus"></button>
                                    <input type="number" class="button-stepper__input" value="1">
                                    <button class="button-stepper__add"></button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="button-ground">
                    <button class="button button--submit">确定</button>
                </div>
            </div>
        </div>
    </div>

    <div data-js="share-box" data-type="3" class="fade-page fade-page-center" data-show="false">
        <a data-js="win-mod__close-btn" class="share-close"></a>
    </div>

    <!--优惠悬浮窗-->
    <div data-js="coupon-fixed" class="fade-page" data-countDown="1500" data-show="true"></div>

    <!--优惠券 直减/满减-->
    <!--<div data-js="coupon-box" class="fade-page fade-page-center" data-show="false">
        <a class="coupon-close" data-js="coupon-close"></a>
        <span class="coupon-prize coupon-money">
            <i class="coupon-symbol">￥</i>
            <em class="coupone-number">20</em>
        </span>
        <span class="coupon-range">HAChill（哈超）旗下所有商品购买（满100使用）</span>
        <span class="coupon-time">有效期至2017-12-8</span>
        <a class="coupon-share" data-js="share-button"></a>
    </div>-->

    <!--优惠券 折扣-->
    <div data-js="coupon-box" class="fade-page fade-page-center" data-show="false">
        <a class="coupon-close" data-js="coupon-close"></a>
        <span class="coupon-prize coupon-discount">
            <em class="coupone-number">8<span>.5</span></em>
            <i class="coupon-text">折</i>
        </span>
        <span class="coupon-range">HAChill（哈超）旗下所有商品购买（满100使用）</span>
        <span class="coupon-time">有效期至2017-12-8</span>
        <a class="coupon-share" data-js="share-button"></a>
    </div>
</div>

<script type="text/javascript" src="js/jquery.min.js"></script>
<script type="text/javascript" src="js/lazyload.min.js"></script>
<script type="text/javascript" src="js/layer_mobile/layer.js"></script>
<script type="text/javascript">

    var $pop = {
        $winType:null,
        $mask: $('.popup-mask'),
        $popup_page: $('.popup-page,.fade-page'),
        $couponWin:$('[data-js="coupon-win"]'),
        $addressWin:$('[data-js="address-win"]'),
        $productWin:$('[data-js="product-win"]'),
        $coupon: $('[data-js="coupon-box"]'),
        $share: $('[data-js="share-box"]'),
        $couponTips: $('[data-js="coupon-fixed"]'),
        show: function (type,className) {
            if(!this[type].hasClass('page-single')){
                this.$mask.attr('data-show', 'true');
            }
            if(this[type].attr('data-countDown')){
                setTimeout(function () {
                    $pop.hide();
                },parseInt(this[type].attr('data-countDown')));
            }
            if(typeof this[type] !== null && this[type] !== 'undefined'){
                this[type].attr('data-show', 'true');
                if(className){
                    this[type].addClass(className);
                }
                this.$winType = this[type];
            }
        },
        hide: function () {
            this.$mask.attr('data-show', 'false');
            if(this.$winType){
                this.$winType.attr('data-show', 'false');
            }
        },
        bind: function () {
            var me = this;
            this.$mask.on('click', function (e) {
                me.hide();
            })
        },
        init: function () {
            this.bind();
        }
    };

    $pop.init();

    var $clickObj = null;

    $('[data-js="c"]').on('click', function (e) {
        $pop.show('$couponWin');
    });

    $('[data-js="a"]').on('click', function (e) {
        $pop.show('$addressWin');
    });

    $('[data-js="button--cart"]').on('click', function (e) {
        $clickObj = $(this);
        $pop.show('$productWin');
    });

    $('[data-js="win-mod__close-btn"]').on('click', function (e) {
        $pop.hide();
    });

    $('[data-js="product-win"] .tags-box .tags').on('click', function (e) {
        $('.tags-box .tags').removeClass('cur');
        $(this).addClass('cur');
    });

    $('[data-js="product-win"] .button--submit').on('click', function (e) {
        $clickObj.text($('[data-js="product-win"] .tags-box .tags.cur').text());
    });

    $('.button-stepper__minus').on('click', function (e) {
        var $stepperObject = $(this).parent().find('.button-stepper__input');
        var $stepperObjectVal = parseInt($stepperObject.val());
        $stepperObject.val($stepperObjectVal > 1 ? $stepperObjectVal - 1 : 0);
    });

    $('.button-stepper__add').on('click', function (e) {
        var $stepperObject = $(this).parent().find('.button-stepper__input');
        var $stepperObjectVal = parseInt($stepperObject.val());
        $stepperObject.val($stepperObjectVal + 1);
    });

    $('[data-js="box-welfare"]').on('click', function (e) {
        $pop.show('$coupon');
    });

    $('[ data-js="coupon-close"]').on('click', function (e) {
        $pop.hide();
    });

    $('[ data-js="share-button"]').on('click', function (e) {
        $pop.hide();
        $pop.show('$share');
    });

    //分享成功唤起
    $pop.show('$couponTips','open');

    $('.lazy-load').lazyload({effect: "fadeIn"});
</script>
</body>
</html>